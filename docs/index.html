<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Simon Schug">
  <title>Git Workshop</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js/css/reveal.css">
  <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="./reveal.js/css/theme/robolung.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? './reveal.js/css/print/pdf.css' : './reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="./reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
<div class="line top"></div>
<div class="line bottom"></div>
<div class="line left"></div>
<div class="line right"></div>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Git Workshop</h1>
  <p class="author">Simon Schug</p>
  <p class="date">26. April 2019</p>
</section>

<section><section id="i.-introduction" class="title-slide slide level1" data-background="#FF4081"><h1>I. Introduction</h1></section><section id="why-are-you-here" class="slide level2">
<h2>Why are you here?</h2>
<p><a href="https://xkcd.com/1597/"><img src="https://imgs.xkcd.com/comics/git_2x.png" alt="xkcd-1597" width="40%"/></a></p>
<aside class="notes">
<ul>
<li>Git is powerful, but with great power comes great complexity</li>
<li>Git is primarily used on the command line (although GUIs and web interfaces exist)</li>
<li>Git has a little bit of a learning curve, but today we will tackle it</li>
</ul>
</aside>
</section><section id="what-is-git" class="slide level2">
<h2>What is git?</h2>
<p><img src="./figures/git.svg" alt="git-logo" width="15%"/></p>
<p><a href="https://en.wikipedia.org/wiki/Version_control">Version Control System</a> for tracking changes in files.</p>
<ul>
<li class="fragment">Unlimited undo for your files using snapshots 📸️</li>
<li class="fragment">Distributed repositories - online and offline 🌍️</li>
<li class="fragment">See who made what changes when and why 👀️</li>
</ul>
<aside class="notes">
<ul>
<li>You decide when to take a snapshot 💪️</li>
<li>Many people can work in parallel 👨‍👩‍👧‍👦️</li>
<li>You can use it as your personal lab notebook</li>
</ul>
</aside>
</section><section id="why-do-you-need-it" class="slide level2">
<h2>Why do you need it?</h2>
<p><a href="http://phdcomics.com/comics/archive.php?comicid=1531"><img src="http://phdcomics.com/comics/archive/phd101212s.gif" alt="phd_comics-1531" width="40%"/></a></p>
<aside class="notes">
<ul>
<li>Collaborating without git: taking turns or excessive communication with duplicates, lost and overlooked things</li>
<li>Hosted repositories can be turned into citable objects. The conceptual stages of your work are transparently documented, including who did what and when.</li>
</ul>
</aside>
</section></section>
<section><section id="ii.-setup" class="title-slide slide level1" data-background="#FF4081"><h1>II. Setup</h1></section><section id="linux-️" class="slide level2">
<h2>Linux 🐧️</h2>
<p>You are nearly done 🍵️.</p>
<ol type="1">
<li>Run the following command in a terminal:</li>
</ol>
<pre><code>sudo apt install git-all # Ubuntu / DEB-based
sudo dnf install git-all # Fedora / RPM-based</code></pre>
<ol start="2" type="1">
<li>Read <a href="https://git-scm.com/book/en/v2/Getting-Started-A-Short-History-of-Git">a short history of git</a></li>
</ol>
</section><section id="windows-️" class="slide level2">
<h2>Windows 🏢️</h2>
<p>You have 2 options:</p>
<ol type="1">
<li><p><a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux</a> (only Windows 10)</p>
<ul>
<li>This will install a Linux distribution within Windows</li>
<li>You can use the Linux instructions to install git</li>
</ul></li>
<li><p>Use the standalone <a href="https://git-scm.com/downloads">*.exe installer</a></p>
<ul>
<li>Download latest source release for Windows</li>
<li>Step through the installer (keep defaults)</li>
</ul></li>
</ol>
</section><section id="mac-os-️" class="slide level2">
<h2>Mac OS 🍎️</h2>
<p>You have 2 options:</p>
<ol type="1">
<li><p>Use <a href="https://brew.sh/">brew</a> (<em>preferred</em> 👍️)</p>
<ul>
<li>Install brew as outlined in section <em>Install Homebrew</em></li>
<li>Enter <code>brew install git</code> into the terminal</li>
<li>Check if it works by entering <code>git</code></li>
</ul></li>
<li><p>Use the <a href="https://git-scm.com/downloads">*.dmg installer</a></p>
<ul>
<li>Download latest source release for MacOS</li>
<li>Open the dmg and right-click open the *.pkg to install</li>
<li>Open a terminal &amp; check if it works by entering <code>git</code></li>
</ul></li>
</ol>
</section><section id="quick-bash-primer" class="slide level2">
<h2>Quick Bash Primer</h2>
<p>Some useful commands to get started with Bash 🤖️</p>
<ul>
<li><code>pwd</code> to print the working directory</li>
<li><code>cd &lt;folder&gt;</code> to change the working directory</li>
<li><code>ls</code> to list files/folders</li>
<li><code>mkdir</code> to make a new directory</li>
<li><code>nano &lt;filename&gt;</code> as a simple text editor</li>
<li><code>man &lt;command&gt;</code> reference manual</li>
</ul>
</section></section>
<section><section id="iii.-version-control" class="title-slide slide level1" data-background="#FF4081"><h1>III. Version Control</h1></section><section id="configuring-git" class="slide level2">
<h2>Configuring git</h2>
<p>Since this is your first time with git, tell it who you are 🙋️</p>
<pre><code>git config --global user.name &quot;Your Name&quot;
git config --global user.email &quot;youremail@email.com&quot;</code></pre>
<p>which <a href="https://swcarpentry.github.io/git-novice/02-setup/index.html">text editor</a> ✍️ you prefer</p>
<pre><code>git config --global core.editor &quot;nano&quot;</code></pre>
<p>and check ☑️ if everything is set up properly</p>
<pre><code>git config --list</code></pre>
</section><section id="creating-a-local-repository" class="slide level2">
<h2>Creating a local repository</h2>
<p>Creating a local git repository is easy 👯️</p>
<ol type="1">
<li>Create a new directory for the repository</li>
<li>Change into the newly created directory with <code>cd</code></li>
<li>Run <code>git init</code> to initialize the repository</li>
<li>Check the status of the repository with <code>git status</code><br />
</li>
</ol>
<blockquote>
<p><em>Where does git store its information?</em><br />
<em>Which files &amp; folders will it track?</em></p>
</blockquote>
</section><section id="tracking-changes-i" class="slide level2">
<h2>Tracking changes I</h2>
<p><img src="./figures/git_tracking-changes.svg" alt="tracking-changes" width="130%"/> <em>Commits with small changes are easier to read &amp; review</em> 💡️.</p>
<aside class="notes">
<ul>
<li>Think of git as taking snapshots of changes over the life of a project.</li>
<li><code>git add</code> specifies what will go in a snapshot by putting things in the staging area</li>
<li><code>git commit</code> takes the snapshot, and makes a permanent record of it</li>
<li>You could use <code>git commit --all</code>, but it’s almost always better to explicitly add things to the staging area to avoid committing changes you forgot you made.</li>
</ul>
</aside>
</section><section id="tracking-changes-ii" class="slide level2">
<h2>Tracking changes II</h2>
<p>Let’s go through the <a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository">modify-add-commit cycle</a> 🌀️</p>
<ol type="1">
<li>Create/Change files &amp; folders within your new repository</li>
<li>Add files/folders you want to track: <code>git add filename</code></li>
<li>Record changes as a commit:<br />
<code>git commit -m "Meaningful commit message"</code></li>
<li>Repeat 🔁️</li>
</ol>
<blockquote>
<p>Use <code>git status</code> to monitor the current status of your repository. What tricks does it tell you?</p>
</blockquote>
</section><section id="ignoring-things" class="slide level2">
<h2>Ignoring things</h2>
<p>Files you don’t want to track can be ignored 😑️</p>
<ul>
<li>Create a .gitignore text file</li>
<li>Add <code>files</code>, <code>folders/</code> or whole patterns <code>*.dat</code></li>
<li>Exclude specific files from being ignored with <code>!filename</code></li>
</ul>
<blockquote>
<p>For common use-cases prefabricated .gitignore files most likely already exist, e.g. check <span style="background:rgba(21.2, 21.2, 21.2, 0.8)">.<a href="https://www.gitignore.io/">gitignore.io</a></span>.</p>
</blockquote>
</section><section id="exploring-history" class="slide level2">
<h2>Exploring history</h2>
<p>How can you see the tracked changes 👁️?</p>
<ul>
<li><code>git log</code> shows the commit history of the repository</li>
<li><code>git diff</code> shows changes within files</li>
<li>Use commit IDs to compare between specific commits</li>
</ul>
<blockquote>
<p>The most recent commit is referred to by the identifier <code>HEAD</code>. What does <code>git diff HEAD~2</code> do?</p>
</blockquote>
<aside class="notes">
<p>Git log:</p>
<ul>
<li>Limit log size with <code>-3</code> and show diffs with <code>-p</code></li>
<li>Press <code>/</code> and type something to search. Navigate with <code>N</code></li>
</ul>
<p>git diff:</p>
<ul>
<li><code>--color-words</code> shows changes on word level</li>
<li><code>--staged</code> shows changes between staging area and repository</li>
<li>Compare two commit ids: <code>git diff b12a52e a983d1 -- [filename]</code></li>
</ul>
<p>A Git commit ID is a SHA-1 hash of every important thing about the commit, e.g.:</p>
<ul>
<li>A checksum of the tree contents</li>
<li>The parent commit id (if this is a merge, there will be more parents)</li>
<li>The author of the commit with timestamp</li>
<li>The committer of the commit with timestamp</li>
<li>The commit message</li>
</ul>
</aside>
</section><section id="alternate-realities-i" class="slide level2">
<h2>Alternate realities I</h2>
<p><img src="./figures/branches.svg" alt="tracking-changes" width="100%"/> <em>Branch operations are inexpensive in git</em> 💸️.</p>
<aside class="notes">
<ul>
<li>A branch represents an independent line of development.</li>
<li>You can think of them as a way to request a brand new working directory, staging area, and project history.</li>
<li>Example: Using a branch for a new feature for the data analysis. When an urgent error is discovered, you can just switch the branch to fix it in your original data analysis</li>
</ul>
</aside>
</section><section id="alternate-realities-ii" class="slide level2">
<h2>Alternate realities II</h2>
<p>Exploring an idea without changing the main project 💫️</p>
<ul>
<li>Use <code>git branch &lt;new-branch&gt;</code> to create a new branch</li>
<li>Switch to it with <code>git checkout &lt;new-branch&gt;</code></li>
<li>Switch back to master and merge your changes with<br />
<code>git merge &lt;new-branch&gt;</code></li>
</ul>
<blockquote>
<p>What happens when both the master and the branch change the same part of a file?</p>
</blockquote>
</section><section id="conflicting-realities" class="slide level2">
<h2>Conflicting realities</h2>
<p>Merge conflicts can arise when the same file is changed in multiple branches ⚔️</p>
<ul>
<li>Create a merge conflict between two branches</li>
<li>Resolve the conflict manually and look at the resulting graph with <code>git log --graph</code></li>
<li>See <a href="https://stackoverflow.com/questions/161813/how-to-resolve-merge-conflicts-in-git">Stackoverflow</a> for information on mergetools</li>
</ul>
</section><section id="avoiding-conflicts" class="slide level2">
<h2>Avoiding conflicts</h2>
<p>Resolving conflicts takes time, try to avoid them ✋️</p>
<ol type="1">
<li>Modularize your files into smaller ones</li>
<li>Make smaller and more atomic commits</li>
<li>Use separate branches to segregate work</li>
</ol>
</section><section id="time-traveling" class="slide level2">
<h2>Time traveling</h2>
<p><em>Oops I made some bad choices, how can I go back in time?</em> 🕓️</p>
<ul>
<li>Revert a single file (<strong>this deletes non-commited changes</strong>❗️) with <code>git checkout &lt;commit-id&gt; &lt;filename&gt;</code></li>
<li>Time travel with all files using<br />
<code>git checkout -b &lt;new-branch&gt; &lt;commit-id&gt;</code></li>
<li>Careful, don’t use <code>git checkout &lt;commit-id&gt;</code>. It will make you <a href="https://www.git-tower.com/learn/git/faq/detached-head-when-checkout-commit">loose your HEAD</a></li>
</ul>
<blockquote>
<p>What is the detached HEAD state? How can you avoid it?</p>
</blockquote>
<aside class="notes">
<p>In ‘detached HEAD’ state you can look around, make experimental changes and commit them without impacting any branches (i.e. commits are not recorded (but they exist)).</p>
Since files can be reverted individually, it makes sense to heavily modularize your work.
</aside>
</section><section id="basic-git-commands" class="slide level2">
<h2>Basic git commands</h2>
<pre><code>git init        // Initialize local git repository
git status      // Check status of working tree
git add         // Add file(s) to staging area
git commit      // Commit changes to repository
git log         // Show commit logs
git diff        // Show changes between commits
git branch      // Create, list and delete branches
git checkout    // Switch branches or restore files</code></pre>
<p>Get a more elaborate git cheat sheet from <a href="https://github.github.com/training-kit/">GitHub Help</a>.</p>
</section></section>
<section><section id="iv.-collaboration" class="title-slide slide level1" data-background="#FF4081"><h1>IV. Collaboration</h1></section><section id="hosting-services" class="slide level2">
<h2>Hosting services</h2>
<p>To collaborate with others we need a remote 🌐️</p>
<ul>
<li><a href="https://github.com/">GitHub</a> is the de facto standard with a big community</li>
<li><a href="https://gitlab.com/">GitLab</a> is an open source alternative often preferred for self-hosted instances</li>
</ul>
<blockquote>
<p>Both offer many additional features like permission management, issue tracking, pull requests…</p>
</blockquote>
<aside class="notes">
Version control comes into its own when we collaborate with others
</aside>
</section><section id="setting-up-github" class="slide level2">
<h2>Setting up GitHub</h2>
<p>We use <a href="https://github.com/">GitHub</a> for the demonstration 🐈️</p>
<ul>
<li>Sign up on GitHub</li>
<li><em>Optional</em>: <a href="https://help.github.com/en/articles/setting-your-commit-email-address-on-github">Keep your email address private</a></li>
<li><em>Optional</em>: <a href="https://help.github.com/en/articles/connecting-to-github-with-ssh">Set up SSH</a></li>
</ul>
</section><section id="create-a-remote-repository" class="slide level2">
<h2>Create a remote repository</h2>
<p>Create a new, empty repository on GitHub 👶️</p>
<ul>
<li>Connect your local repository to the new remote with<br />
<code>git remote add origin &lt;url&gt;</code></li>
<li>Push your local changes to the remote with <code>git push -u origin master</code></li>
<li>Create and edit the README file, it uses <a href="https://guides.github.com/features/mastering-markdown/">Markdown</a> syntax</li>
</ul>
<blockquote>
<p>Repositories should contain a license to handle copyright. <span style="background:rgba(21.2, 21.2, 21.2, 0.8)">.<a href="https://choosealicense.com/">choosealicense</a></span> can help you.</p>
</blockquote>
</section><section id="push-pull" class="slide level2">
<h2>Push &amp; Pull</h2>
<p>To synchronize changes in the local and the remote repository, you can use push &amp; pull 🏋️</p>
<ul>
<li>Change the README in the web interface and use<br />
<code>git pull origin master</code> to copy the changes into your local repository</li>
<li>Commit a local file change and push it to the remote using <code>git push origin master</code></li>
</ul>
<blockquote>
<p>While <code>git commit</code> only updates your local repository, <code>git push</code> updates the remote with the local changes.</p>
</blockquote>
</section><section id="pull-requests" class="slide level2">
<h2>Pull requests</h2>
<p>With pull requests, you can propose changes to a repository and ask someone to review, pull and merge your contribution 💌️</p>
<ul>
<li>Create a new branch via the web interface and try to discover it locally with <code>git fetch</code> &amp;&amp; <code>git branch -r</code></li>
<li>Check out the new branch locally by creating a new local branch with the same name:<br />
<code>git checkout -b &lt;branch&gt; &lt;remote&gt;/&lt;branch&gt;</code></li>
<li>Push local changes to the remote and perform a pull request via the web interface</li>
</ul>
<aside class="notes">
If someone wants to know about the different merge possibilities, this is what <a href="https://stackoverflow.com/questions/2427238/in-git-what-is-the-difference-between-merge-squash-and-rebase">Stackoverflow</a> has to say.
</aside>
</section><section id="basic-collaborative-workflow" class="slide level2">
<h2>Basic Collaborative Workflow</h2>
<p>You are now ready to collaborate with others using git 🏁️</p>
<ol start="0" type="1">
<li>Retrieve an existing, hosted repository with <code>git clone</code></li>
<li>Update your local repository with <code>git pull</code></li>
<li>Make local changes and stage them with <code>git add</code></li>
<li>Commit your changes with <code>git commit</code></li>
<li>Upload the changes to the remote with <code>git push</code></li>
</ol>
</section></section>
<section><section id="moooore" class="title-slide slide level1" data-background="#FF4081"><h1>+++Moooore</h1></section><section id="there-is" class="slide level2">
<h2>There is…</h2>
<p>… so much more to discover 🔭️</p>
<ul>
<li>Many text editors and IDEs have a deep git integration</li>
<li>GitHub/GitLab integrate many more tools to simplify collaboration: Issue tracker, wiki’s, website hosting</li>
<li><a href="https://en.wikipedia.org/wiki/Comparison_of_Git_GUIs">Numerous GUI’s</a> try to streamline your git experience</li>
</ul>
<blockquote>
<p>You are prepared to discover those things on your own 🚀️</p>
</blockquote>
</section></section>
    </div>
  </div>

  <script src="./reveal.js/lib/js/head.min.js"></script>
  <script src="./reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // Optional reveal.js plugins
        dependencies: [
          { src: './reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: './reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: './reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
